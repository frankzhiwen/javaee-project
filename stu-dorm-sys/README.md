# å­¦ç”Ÿå®¿èˆç®¡ç†ç³»ç»Ÿ

## é¡¹ç›®ç›®æ ‡

+ å¤ä¹ æ•°æ®åº“ç›¸å…³çŸ¥è¯†ï¼šæ•°æ®åº“è®¾è®¡ã€åŸºæœ¬CRUDæ“ä½œï¼Œå…³è”æŸ¥è¯¢æ“ä½œï¼ŒJDBCæ“ä½œ
+ å¤ä¹ Servletå¤„ç†HTTPè¯·æ±‚
+ å¤ä¹ HTTPç›¸å…³çŸ¥è¯†ï¼šè¯·æ±‚æ–¹æ³•ã€å“åº”çŠ¶æ€ç ã€æ•°æ®ç±»å‹ç­‰
+ å­¦ä¹ é¡¹ç›®å¼€å‘æµç¨‹

## å¼€å‘ç¯å¢ƒä¸æŠ€æœ¯æ ˆ

+ Windows/Mac/Linux
+ Maven
+ Servlet
+ MySQL
+ Jackson

## é¡¹ç›®åŠŸèƒ½

ä¸»è¦ä¸šåŠ¡ï¼šç®¡ç†å­¦æ ¡å®¿èˆä¿¡æ¯ï¼Œè®°å½•å¹¶ç®¡ç†å­¦ç”Ÿä½å®¿ä¿¡æ¯

+ ç”¨æˆ·æ³¨å†Œï¼ˆå¯å±è”½ä¸å®ç°ï¼‰
+ ç”¨æˆ·ç™»å½•ã€ä¼šè¯ç®¡ç†
+ ç”¨æˆ·ä¿¡æ¯ç®¡ç†ï¼ˆå¯ä¸å®ç°ï¼‰
+ å®¿èˆæ¥¼ç®¡ç†ï¼ˆå¯ä¸å®ç°ï¼‰
+ å¯å®¤ç®¡ç†ï¼ˆå¯ä¸å®ç°ï¼‰
+ å­¦ç”Ÿä½å®¿ç®¡ç†ï¼ˆå¯å®ç°éƒ¨åˆ†ï¼‰

## é¡¹ç›®æ¼”ç¤º

### ç”¨æˆ·ç™»å½•

<img src="assets\ç”¨æˆ·ç™»å½•.png" style="zoom:60%;float:left;" />

### ç”¨æˆ·ç®¡ç†ï¼ˆå¯ä¸å®ç°ï¼‰

+ æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨

![](assets\ç”¨æˆ·æŸ¥è¯¢.png)

+ æ–°å¢ç”¨æˆ·

![](assets\ç”¨æˆ·æ–°å¢.png)

+ ä¿®æ”¹ç”¨æˆ·

![](assets\ç”¨æˆ·ä¿®æ”¹.png)

+ åˆ é™¤ç”¨æˆ·

![](assets\ç”¨æˆ·åˆ é™¤.png)

### å®¿èˆæ¥¼ç®¡ç†ï¼ˆç•¥ï¼Œç±»ä¼¼ç”¨æˆ·ç®¡ç†ï¼‰

### å¯å®¤ç®¡ç†ï¼ˆç•¥ï¼Œç±»ä¼¼ç”¨æˆ·ç®¡ç†ï¼‰

### å­¦ç”Ÿä½å®¿ç®¡ç†

+ å­¦ç”Ÿä½å®¿ä¿¡æ¯æŸ¥è¯¢

![](assets\å€Ÿé˜…æŸ¥è¯¢.png)

+ æ–°å¢å­¦ç”Ÿä½å®¿ä¿¡æ¯

![](assets\å€Ÿé˜…æ–°å¢.png)

+ ä¿®æ”¹å­¦ç”Ÿä½å®¿ä¿¡æ¯

![](assets\å€Ÿé˜…ä¿®æ”¹.png)

+ åˆ é™¤å­¦ç”Ÿä½å®¿ä¿¡æ¯

![](assets\å€Ÿé˜…åˆ é™¤.png)

+ åˆ†é…å­¦ç”Ÿå®¿èˆ

![](assets\å­¦ç”Ÿå®¿èˆåˆ†é….png)

## æ•°æ®åº“è®¾è®¡

### æ•°æ®åº“è¡¨å…³ç³»å›¾

![](assets\æ•°æ®åº“è¡¨å…³ç³».png)

ä»¥ä¸Šå…³ç³»å¯è§ï¼š

1. å®¿èˆæ¥¼å’Œå¯å®¤ä¸ºä¸€å¯¹å¤šå…³ç³»
2. å¯å®¤å’Œå­¦ç”Ÿä¿¡æ¯è¡¨ä¸ºä¸€å¯¹å¤šå…³ç³»
5. æ•°æ®å­—å…¸è¡¨å’Œæ•°æ®å­—å…¸æ ‡ç­¾è¡¨ä¸ºä¸€å¯¹å¤šå…³ç³»

### å­—å…¸è¡¨è¯´æ˜

æ•°æ®å­—å…¸è¡¨å’Œæ•°æ®å­—å…¸æ ‡ç­¾è¡¨ä¸»è¦ç”¨åœ¨ä¸€äº›é€šç”¨çš„ä¸‹æ‹‰èœå•é€‰é¡¹ã€‚

å¦‚ç­çº§è¡¨ä¸­çš„å­—æ®µï¼šå­¦ç”Ÿæ˜¯å“ªä¸€å±Šçš„ï¼Œå­¦ç”Ÿä¸“ä¸š

+ å¦‚æœå•ç‹¬è®¾è®¡éœ€è¦å•ç‹¬ä¸€å¼ è¡¨ï¼Œå®é™…å­˜æ”¾çš„æ•°æ®ä¹Ÿä¸ä¼šå¤ªå¤šï¼Œå¯ä»¥è€ƒè™‘è®¾è®¡åœ¨æ•´ä½“çš„ä¸€å¼ è¡¨ã€‚
+ é¡µé¢ä¸Šå±•ç¤ºæ—¶ï¼Œè¿™äº›å­—æ®µä¹Ÿæ˜¯ä¸‹æ‹‰é€‰é¡¹ã€‚
+ ä¸€èˆ¬åœ¨è®¾è®¡ä¸Šè€ƒè™‘ä¸ºä¸¤å¼ è¡¨ï¼šæ•°æ®å­—å…¸è¡¨å’Œæ•°æ®å­—å…¸æ ‡ç­¾è¡¨ï¼ˆä¸€å¯¹å¤šå…³ç³»ï¼‰æ¥ä¿å­˜ã€‚ä¸¤å¼ è¡¨éƒ½æ˜¯keyã€valueçš„å½¢å¼ï¼Œå­—å…¸è¡¨æ˜¯çˆ¶èŠ‚ç‚¹ï¼Œå­—å…¸æ ‡ç­¾è¡¨æ˜¯å­èŠ‚ç‚¹ï¼Œä¸‹æ‹‰èœå•é€šè¿‡çˆ¶èŠ‚ç‚¹çš„keyæŸ¥è¯¢å‡ºæ‰€æœ‰å…³è”çš„å­èŠ‚ç‚¹ï¼Œå†ä½¿ç”¨å­èŠ‚ç‚¹çš„keyã€valueè¿›è¡Œä¸‹æ‹‰èœå•é€‰é¡¹çš„åˆå§‹åŒ–

æ¯”å¦‚ä¸€ä¸ªä¸‹æ‹‰èœå•ï¼Œé¡µé¢å…ƒç´ -æ¥å£è¯·æ±‚/å“åº”-æ•°æ®åº“å…³ç³»å¦‚ä¸‹ï¼š

![](assets/ä¸‹æ‹‰èœå•.png)

### åˆ›å»ºæ•°æ®åº“åŠè¡¨

```mysql
drop database if exists stu_dorm;
create database stu_dorm character set utf8mb4;

use stu_dorm;

drop table if exists user;
create table user(
    id int primary key auto_increment,
    username varchar(20) not null unique comment 'ç”¨æˆ·è´¦å·',
    password varchar(20) not null comment 'å¯†ç ',
    nickname varchar(20) comment 'ç”¨æˆ·æ˜µç§°',
    email varchar(50) comment 'é‚®ç®±',
    create_time timestamp default NOW() comment 'åˆ›å»ºæ—¶é—´'
) comment 'ç”¨æˆ·è¡¨';

drop table if exists building;
create table building(
    id int primary key auto_increment,
    building_name varchar(20) not null unique comment 'åç§°',
    building_desc varchar(50) comment 'æè¿°',
    create_time timestamp default NOW() comment 'åˆ›å»ºæ—¶é—´'
) comment 'å®¿èˆæ¥¼';

drop table if exists dorm;
create table dorm(
    id int primary key auto_increment,
    dorm_no varchar(20) not null comment 'æˆ¿å·',
    dorm_desc varchar(50) comment 'æè¿°',
    building_id int comment 'å®¿èˆæ¥¼id',
    create_time timestamp default NOW() comment 'åˆ›å»ºæ—¶é—´',
    foreign key (building_id) references building(id)
) comment 'å¯å®¤';

drop table if exists dictionary;
create table dictionary(
    id int primary key auto_increment,
    dictionary_key varchar(20) not null unique comment 'é”®',
    dictionary_value varchar(20) not null comment 'å€¼',
    dictionary_desc varchar(20) comment 'æè¿°',
    create_time timestamp default NOW() comment 'åˆ›å»ºæ—¶é—´'
) comment 'æ•°æ®å­—å…¸';

drop table if exists dictionary_tag;
create table dictionary_tag(
    id int primary key auto_increment,
    dictionary_tag_key varchar(20) not null comment 'é”®',
    dictionary_tag_value varchar(20) not null comment 'å€¼',
    dictionary_tag_desc varchar(20) comment 'æè¿°',
    dictionary_id int comment 'æ•°æ®å­—å…¸id',
    create_time timestamp default NOW() comment 'åˆ›å»ºæ—¶é—´',
    foreign key (dictionary_id) references dictionary(id)
) comment 'æ•°æ®å­—å…¸æ ‡ç­¾';

drop table if exists student;
create table student(
    id int primary key auto_increment,
    student_name varchar(20) not null comment 'å§“å',
    student_graduate_year varchar(20) comment 'æ¯•ä¸šå¹´ä»½ï¼Œæ•°æ®å­—å…¸000001',
    student_major varchar(20) comment 'ä¸“ä¸šï¼Œæ•°æ®å­—å…¸000002',
    student_email varchar(50) comment 'é‚®ç®±',
    dorm_id int comment 'å®¿èˆid',
    create_time timestamp default NOW() comment 'åˆ›å»ºæ—¶é—´',
    foreign key (dorm_id) references dorm(id)
) comment 'å­¦ç”Ÿè¡¨';
```
åˆå§‹åŒ–æ•°æ®
```mysql
use stu_dorm;
-- åˆå§‹åŒ–æ•°æ®
-- mysqlä¸­æ²¡æœ‰==ï¼Œæ˜¯ç”¨=å·ä»£æ›¿==ã€‚ä¸ºäº†åŒºåˆ†=å’Œ==ï¼Œèµ‹å€¼æ—¶ä½¿ç”¨:=
-- åˆå§‹åŒ–æ•°æ®
-- mysqlä¸­æ²¡æœ‰==ï¼Œæ˜¯ç”¨=å·ä»£æ›¿==ã€‚ä¸ºäº†åŒºåˆ†=å’Œ==ï¼Œèµ‹å€¼æ—¶ä½¿ç”¨:=
set @username:='abc';
set @password:='123';
set @nickname:='é£ä¸€æ ·çš„ç”·å­ğŸ˜±';
set @email:='123@qq.com';

set @building_name:='ç”Ÿæ¥¼-';
set @building_desc:='ä¿®ç‚¼é“åœº(â“¿_â“¿)';

set @dorm_desc:='é—­å…³ä¹‹åœ°( à° àµ à°  )ï¾‰';

set @dictionary_student_graduate_year='000001';
set @dictionary_student_major='000002';

set @student_name:='å°å°çš„æ¢¦æƒ³ğŸ·';

insert into user(username, nickname, password, email) values (@username, @nickname, @password, @email);
insert into user(username, nickname, password, email) values (concat(@username, '1'), concat(@nickname, '1'), @password, @email);
insert into user(username, nickname, password, email) values (concat(@username, '2'), concat(@nickname, '2'), @password, @email);
insert into user(username, nickname, password, email) values (concat(@username, '3'), concat(@nickname, '3'), @password, @email);
insert into user(username, nickname, password, email) values (concat(@username, '4'), concat(@nickname, '4'), @password, @email);
insert into user(username, nickname, password, email) values (concat(@username, '5'), concat(@nickname, '5'), @password, @email);

insert into building(building_name, building_desc) values (concat('ç”·', @building_name, '1'), @building_desc);
insert into building(building_name, building_desc) values (concat('ç”·', @building_name, '2'), @building_desc);
insert into building(building_name, building_desc) values (concat('ç”·', @building_name, '3'), @building_desc);
insert into building(building_name, building_desc) values (concat('å¥³', @building_name, '1'), @building_desc);
insert into building(building_name, building_desc) values (concat('å¥³', @building_name, '2'), @building_desc);
insert into building(building_name, building_desc) values (concat('å¥³', @building_name, '3'), @building_desc);

## å®¿èˆ
# å®¿èˆæ¥¼1çš„å®¿èˆ
insert into dorm(dorm_no, dorm_desc, building_id) values ('1-0-1', @dorm_desc, 1);
insert into dorm(dorm_no, dorm_desc, building_id) values ('1-0-2', @dorm_desc, 1);
insert into dorm(dorm_no, dorm_desc, building_id) values ('1-0-3', @dorm_desc, 1);
# å®¿èˆæ¥¼2çš„å®¿èˆ
insert into dorm(dorm_no, dorm_desc, building_id) values ('2-0-1', @dorm_desc, 2);
insert into dorm(dorm_no, dorm_desc, building_id) values ('2-0-2', @dorm_desc, 2);
insert into dorm(dorm_no, dorm_desc, building_id) values ('2-0-3', @dorm_desc, 2);
# å®¿èˆæ¥¼3çš„å®¿èˆ
insert into dorm(dorm_no, dorm_desc, building_id) values ('3-0-1', @dorm_desc, 3);
insert into dorm(dorm_no, dorm_desc, building_id) values ('3-0-2', @dorm_desc, 3);
insert into dorm(dorm_no, dorm_desc, building_id) values ('3-0-3', @dorm_desc, 3);
# å®¿èˆæ¥¼4çš„å®¿èˆ
insert into dorm(dorm_no, dorm_desc, building_id) values ('4-0-1', @dorm_desc, 4);
insert into dorm(dorm_no, dorm_desc, building_id) values ('4-0-2', @dorm_desc, 4);
insert into dorm(dorm_no, dorm_desc, building_id) values ('4-0-3', @dorm_desc, 4);

## æ•°æ®å­—å…¸ï¼šå­¦ç”Ÿæ¯•ä¸šå¹´ä»½
insert into dictionary(dictionary_key, dictionary_value, dictionary_desc)values (@dictionary_student_graduate_year, 'æ¯•ä¸šå¹´ä»½', 'å­¦ç”Ÿæ¯•ä¸šçš„å¹´ä»½');

insert into dictionary_tag(dictionary_tag_key, dictionary_tag_value, dictionary_id)values ('001', '2020å±Š', 1);
insert into dictionary_tag(dictionary_tag_key, dictionary_tag_value, dictionary_id)values ('002', '2021å±Š', 1);
insert into dictionary_tag(dictionary_tag_key, dictionary_tag_value, dictionary_id)values ('003', '2022å±Š', 1);
insert into dictionary_tag(dictionary_tag_key, dictionary_tag_value, dictionary_id)values ('004', '2023å±Š', 1);

## æ•°æ®å­—å…¸ï¼šå­¦ç”Ÿä¸“ä¸š
insert into dictionary(dictionary_key, dictionary_value, dictionary_desc)values (@dictionary_student_major, 'ä¸“ä¸š', 'å­¦ç”Ÿçš„ä¸“ä¸š');
insert into dictionary_tag(dictionary_tag_key, dictionary_tag_value, dictionary_id)values ('001', 'ä¸­æ–‡ç³»', 2);
insert into dictionary_tag(dictionary_tag_key, dictionary_tag_value, dictionary_id)values ('002', 'è‹±è¯­ç³»', 2);
insert into dictionary_tag(dictionary_tag_key, dictionary_tag_value, dictionary_id)values ('003', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 2);

insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'A1'), '000001001', '000002001', @email, 1);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'A2'), '000001001', '000002001', @email, 1);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'A3'), '000001001', '000002001', @email, 1);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'A4'), '000001001', '000002001', @email, 1);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'A5'), '000001001', '000002001', @email, 1);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'B1'), '000001001', '000002002', @email, 2);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'B2'), '000001001', '000002002', @email, 2);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'B3'), '000001001', '000002002', @email, 2);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'B4'), '000001001', '000002002', @email, 2);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'B5'), '000001001', '000002002', @email, 2);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'C1'), '000001001', '000002003', @email, 3);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'C2'), '000001001', '000002003', @email, 3);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'C3'), '000001001', '000002003', @email, 3);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'C4'), '000001001', '000002003', @email, 3);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'C5'), '000001001', '000002003', @email, 3);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'D1'), '000001002', '000002001', @email, 4);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'D2'), '000001002', '000002001', @email, 4);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'D3'), '000001002', '000002001', @email, 4);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'D4'), '000001002', '000002001', @email, 4);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'D5'), '000001002', '000002001', @email, 4);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'E1'), '000001002', '000002002', @email, 5);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'E2'), '000001002', '000002002', @email, 5);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'E3'), '000001002', '000002002', @email, 5);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'E4'), '000001002', '000002002', @email, 5);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'E5'), '000001002', '000002002', @email, 5);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'F1'), '000001002', '000002003', @email, 6);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'F2'), '000001002', '000002003', @email, 6);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'F3'), '000001002', '000002003', @email, 6);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'F4'), '000001002', '000002003', @email, 6);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'F5'), '000001002', '000002003', @email, 6);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'G1'), '000001003', '000002001', @email, 7);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'G2'), '000001003', '000002001', @email, 7);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'G3'), '000001003', '000002001', @email, 7);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'G4'), '000001003', '000002001', @email, 7);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'G5'), '000001003', '000002001', @email, 7);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'H1'), '000001003', '000002002', @email, 8);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'H2'), '000001003', '000002002', @email, 8);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'H3'), '000001003', '000002002', @email, 8);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'H4'), '000001003', '000002002', @email, 8);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'H5'), '000001003', '000002002', @email, 8);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'I1'), '000001003', '000002003', @email, 9);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'I2'), '000001003', '000002003', @email, 9);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'I3'), '000001003', '000002003', @email, 9);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'I4'), '000001003', '000002003', @email, 9);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'I5'), '000001003', '000002003', @email, 9);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'J1'), '000001004', '000002001', @email, 10);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'J2'), '000001004', '000002001', @email, 10);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'J3'), '000001004', '000002001', @email, 10);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'J4'), '000001004', '000002001', @email, 10);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'J5'), '000001004', '000002001', @email, 10);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'K1'), '000001004', '000002002', @email, 11);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'K2'), '000001004', '000002002', @email, 11);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'K3'), '000001004', '000002002', @email, 11);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'K4'), '000001004', '000002002', @email, 11);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'K5'), '000001004', '000002002', @email, 11);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'L1'), '000001004', '000002003', @email, 12);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'L2'), '000001004', '000002003', @email, 12);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'L3'), '000001004', '000002003', @email, 12);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'L4'), '000001004', '000002003', @email, 12);
insert into student(student_name, student_graduate_year, student_major, student_email, dorm_id) values (concat(@student_name, 'L5'), '000001004', '000002003', @email, 12);
```

## å‰åç«¯æ¥å£

è¦å®ç°åŠŸèƒ½ï¼Œéœ€è¦å…ˆæ˜ç¡®å‰åç«¯çº¦å®šå¥½çš„æ¥å£ï¼Œæˆ‘ä»¬ä¸»è¦å®ç°å›¾ä¹¦å€Ÿé˜…ä¿¡æ¯ç®¡ç†ï¼Œæ‰€ä»¥åªå®ç°è¯¥ä¸šåŠ¡ç›¸å…³æ¥å£ã€‚

éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œæ¥å£çš„å®šä¹‰ä¸€èˆ¬æ˜¯å‰åç«¯çº¦å®šå¥½çš„ï¼Œæ‰€ä»¥ä¹Ÿå’Œå‰ç«¯ä»£ç æ¯æ¯ç›¸å…³ï¼Œå‰ç«¯éœ€è¦ä»€ä¹ˆæ•°æ®ï¼Œéœ€è¦ä»€ä¹ˆæ ¼å¼çš„æ•°æ®ï¼Œä¹Ÿä¼šåœ¨æ¥å£ä¸­ä½“ç°ã€‚

### æŸ¥è¯¢ä¸“ä¸šå­—å…¸

è¯·æ±‚

```
GET dict/tag/query?dictionaryKey=000002
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ",
  "data" : [ {
    "dictionaryTagKey" : "000002001",
    "dictionaryTagValue" : "ä¸­æ–‡ç³»"
  }, {
    "dictionaryTagKey" : "000002002",
    "dictionaryTagValue" : "è‹±è¯­ç³»"
  }, {
    "dictionaryTagKey" : "000002003",
    "dictionaryTagValue" : "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯"
  } ]
}
```

### æŸ¥è¯¢æ¯•ä¸šå¹´ä»½å­—å…¸

è¯·æ±‚

```
GET dict/tag/query?dictionaryKey=000001
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ",
  "data" : [ {
    "dictionaryTagKey" : "000001001",
    "dictionaryTagValue" : "2020å±Š"
  }, {
    "dictionaryTagKey" : "000001002",
    "dictionaryTagValue" : "2021å±Š"
  }, {
    "dictionaryTagKey" : "000001003",
    "dictionaryTagValue" : "2022å±Š"
  }, {
    "dictionaryTagKey" : "000001004",
    "dictionaryTagValue" : "2023å±Š"
  } ]
}
```

### æŸ¥è¯¢å­¦ç”Ÿä½å®¿ä¿¡æ¯

è¯·æ±‚

```
GET student/query?searchText=&sortOrder=asc&pageSize=7&pageNumber=1&_=1594084296034
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ",
  "total" : 60,
  "data" : [ {
    "id" : 1,
    "studentName" : "å°å°çš„æ¢¦æƒ³\uD83D\uDC37A1",
    "studentGraduateYear" : "000001001",
    "studentMajor" : "000002001",
    "studentEmail" : "123@qq.com",
    "dormId" : 1,
    "createTime" : "2020-06-16 15:29:25",
    "buildingId" : "1",
    "buildingName" : "ç”·ç”Ÿæ¥¼-1",
    "dormNo" : "1-0-1"
  }, {
    "id" : 2,
    "studentName" : "å°å°çš„æ¢¦æƒ³\uD83D\uDC37A2",
    "studentGraduateYear" : "000001001",
    "studentMajor" : "000002001",
    "studentEmail" : "123@qq.com",
    "dormId" : 1,
    "createTime" : "2020-06-16 15:29:25",
    "buildingId" : "1",
    "buildingName" : "ç”·ç”Ÿæ¥¼-1",
    "dormNo" : "1-0-1"
  }, {
    "id" : 3,
    "studentName" : "å°å°çš„æ¢¦æƒ³\uD83D\uDC37A3",
    "studentGraduateYear" : "000001001",
    "studentMajor" : "000002001",
    "studentEmail" : "123@qq.com",
    "dormId" : 1,
    "createTime" : "2020-06-16 15:29:25",
    "buildingId" : "1",
    "buildingName" : "ç”·ç”Ÿæ¥¼-1",
    "dormNo" : "1-0-1"
  }, {
    "id" : 4,
    "studentName" : "å°å°çš„æ¢¦æƒ³\uD83D\uDC37A4",
    "studentGraduateYear" : "000001001",
    "studentMajor" : "000002001",
    "studentEmail" : "123@qq.com",
    "dormId" : 1,
    "createTime" : "2020-06-16 15:29:25",
    "buildingId" : "1",
    "buildingName" : "ç”·ç”Ÿæ¥¼-1",
    "dormNo" : "1-0-1"
  }, {
    "id" : 5,
    "studentName" : "å°å°çš„æ¢¦æƒ³\uD83D\uDC37A5",
    "studentGraduateYear" : "000001001",
    "studentMajor" : "000002001",
    "studentEmail" : "123@qq.com",
    "dormId" : 1,
    "createTime" : "2020-06-16 15:29:25",
    "buildingId" : "1",
    "buildingName" : "ç”·ç”Ÿæ¥¼-1",
    "dormNo" : "1-0-1"
  }, {
    "id" : 6,
    "studentName" : "å°å°çš„æ¢¦æƒ³\uD83D\uDC37B1",
    "studentGraduateYear" : "000001001",
    "studentMajor" : "000002002",
    "studentEmail" : "123@qq.com",
    "dormId" : 2,
    "createTime" : "2020-06-16 15:29:25",
    "buildingId" : "1",
    "buildingName" : "ç”·ç”Ÿæ¥¼-1",
    "dormNo" : "1-0-2"
  }, {
    "id" : 7,
    "studentName" : "å°å°çš„æ¢¦æƒ³\uD83D\uDC37B2",
    "studentGraduateYear" : "000001001",
    "studentMajor" : "000002002",
    "studentEmail" : "123@qq.com",
    "dormId" : 2,
    "createTime" : "2020-06-16 15:29:25",
    "buildingId" : "1",
    "buildingName" : "ç”·ç”Ÿæ¥¼-1",
    "dormNo" : "1-0-2"
  } ]
}
```

### æŸ¥è¯¢å®¿èˆæ¥¼ï¼ˆæ•°æ®å­—å…¸ï¼‰

ä½¿ç”¨åœ¨ä¸‹æ‹‰èœå•ä¸­ï¼Œè¦æ±‚æŒ‰ç…§æ•°æ®å­—å…¸å“åº”æ ¼å¼è¿”å›

è¯·æ±‚
```
GET building/queryAsDict
```

å“åº”
```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ",
  "data" : [ {
    "dictionaryTagKey" : "4",
    "dictionaryTagValue" : "å¥³ç”Ÿæ¥¼-1"
  }, {
    "dictionaryTagKey" : "5",
    "dictionaryTagValue" : "å¥³ç”Ÿæ¥¼-2"
  }, {
    "dictionaryTagKey" : "6",
    "dictionaryTagValue" : "å¥³ç”Ÿæ¥¼-3"
  }, {
    "dictionaryTagKey" : "1",
    "dictionaryTagValue" : "ç”·ç”Ÿæ¥¼-1"
  }, {
    "dictionaryTagKey" : "2",
    "dictionaryTagValue" : "ç”·ç”Ÿæ¥¼-2"
  }, {
    "dictionaryTagKey" : "3",
    "dictionaryTagValue" : "ç”·ç”Ÿæ¥¼-3"
  } ]
}
```

### æŸ¥è¯¢å¯å®¤ï¼ˆæ•°æ®å­—å…¸ï¼‰

çº§è”ä¸‹æ‹‰èœå•ï¼šé€‰æ‹©å®¿èˆæ¥¼ä¸‹æ‹‰é€‰é¡¹ä¹‹åï¼Œæ ¹æ®é€‰æ‹©çš„å®¿èˆæ¥¼idæŸ¥è¯¢æ‰€æœ‰å¯å®¤ã€‚è¦æ±‚æŒ‰ç…§æ•°æ®å­—å…¸å“åº”æ ¼å¼è¿”å›

è¯·æ±‚

```
GET dorm/queryAsDict?dictionaryKey=4
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ",
  "data" : [ {
    "dictionaryTagKey" : "10",
    "dictionaryTagValue" : "4-0-1"
  }, {
    "dictionaryTagKey" : "11",
    "dictionaryTagValue" : "4-0-2"
  }, {
    "dictionaryTagKey" : "12",
    "dictionaryTagValue" : "4-0-3"
  } ]
}
```

### æ–°å¢å­¦ç”Ÿä½å®¿ä¿¡æ¯

è¯·æ±‚

```
POST student/add
Content-Type: application/json

{"studentName":"æˆ‘æ˜¯è°","studentGraduateYear":"000001003","studentMajor":"000002002","studentEmail":"","buildingId":"1","dormId":"1"}
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ"
}
```

### åˆ é™¤å­¦ç”Ÿä½å®¿ä¿¡æ¯

è¯·æ±‚

```
GET student/delete?ids=2&ids=3
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ"
}
```

### æŸ¥è¯¢å­¦ç”Ÿä½å®¿è¯¦æƒ…

è¯·æ±‚

```
GET student/queryById?id=1
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ",
  "data" : {
    "id" : 1,
    "studentName" : "å°å°çš„æ¢¦æƒ³\uD83D\uDC37A1",
    "studentGraduateYear" : "000001001",
    "studentMajor" : "000002001",
    "studentEmail" : "123@qq.com",
    "dormId" : 1,
    "createTime" : "2020-06-16 15:29:25",
    "buildingId" : "1",
    "buildingName" : "ç”·ç”Ÿæ¥¼-1",
    "dormNo" : "1-0-1"
  }
}
```

### ä¿®æ”¹å­¦ç”Ÿä½å®¿ä¿¡æ¯

è¯·æ±‚

```
POST student/update
Content-Type: application/json

{"id":"1","studentName":"å°å°çš„æ¢¦æƒ³ğŸ·A1","studentGraduateYear":"000001003","studentMajor":"000002003","studentEmail":"123@qq.com","buildingId":"3","dormId":"8"}
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ"
}
```

### åˆ†é…å­¦ç”Ÿä½å®¿ä¿¡æ¯

è¯·æ±‚

```
POST student/apply
Content-Type: application/json

{"ids":["4","5"],"buildingId":"1","dormId":"1"}
```

å“åº”

```json
{
  "success" : true,
  "code" : "200",
  "message" : "æ“ä½œæˆåŠŸ"
}
```

## å¼€å‘ç¯å¢ƒå‡†å¤‡

### Mavenç¯å¢ƒé…ç½®

#### 1. ä¸‹è½½æ–‡ä»¶

ä¸‹è½½ä¸Šä¼ çš„settings.xmlæ–‡ä»¶å’Œæœ¬åœ°ä»“åº“å‹ç¼©åŒ…M2Repository.zipï¼Œç¡®ä¿å­˜æ”¾åœ¨æœ¬åœ°æŸä¸ªè·¯å¾„ä¸­ï¼Œä¹‹ååˆ«ç§»åŠ¨äº†ã€‚å¹¶è§£å‹å‹ç¼©åŒ…ï¼Œè§£å‹åæ˜¯è¿™æ ·çš„ï¼š

<img src="assets\Maven1.png" style="zoom:50%; float:left;" />

#### 2. æ‰“å¼€é…ç½®é¢æ¿

<img src="assets\Maven2.png" style="zoom:50%; float:left;" />

#### 3. IDEAé…ç½®Maven

<img src="assets\Maven3.png" style="zoom:50%; float:left;" />

### IDEAå…¶ä»–é…ç½®

å‚è€ƒè¯¾ä»¶ã€Š15. IDEAé…ç½®.pdfã€‹ï¼Œè¦æ±‚é¡¹ç›®åŠIDEAé…ç½®éƒ¨åˆ†å†…å®¹å…¨éƒ¨å®Œæˆã€‚

æå‰å®‰è£…lombokæ’ä»¶ï¼š

åœ¨IDEA File -> settings -> pluginsï¼Œè¾“å…¥lombokæœç´¢ã€‚æœ‰æ—¶å€™ç½‘ç»œåŸå› ï¼Œå¯èƒ½æœç´¢ä¸åˆ°ï¼Œé€€å‡ºé‡æ–°è¿›å…¥å†æ¬¡æœç´¢ï¼Œå¤šæ“ä½œå‡ æ¬¡ã€‚æœç´¢åˆ°äº†ç‚¹å‡»installå®‰è£…æ’ä»¶ï¼Œå®‰è£…å®Œæˆåé‡å¯IDEAã€‚

### é…ç½®é¡¹ç›®pom.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>frank</groupId>
    <artifactId>book-sys</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>war</packaging>

    <dependencies>

        <!-- MySQLæ•°æ®åº“JDBCé©±åŠ¨åŒ… -->
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.38</version>
        </dependency>

        <!-- javaee webä¾èµ–åŒ…ï¼šè¿è¡Œæ—¶ç”±webå®¹å™¨æä¾›ï¼Œ
            åŒ…æ‹¬ï¼šWebSocket 1.1, JSON Binding 1.0, JSON Processing 1.1,
            Servlet 4.0, JavaServer Faces 2.3, Expression Language  3.0,
            JavaServer Pages(JSP) 2.3, JSTL 1.2 -->
        <dependency>
            <groupId>javax</groupId>
            <artifactId>javaee-web-api</artifactId>
            <version>8.0.1</version>
            <scope>provided</scope>
        </dependency>

        <!-- Lombok: è‡ªåŠ¨æ’å…¥ç¼–è¾‘å™¨å¹¶æ„å»ºå·¥å…·ï¼Œä»¥æ³¨è§£çš„æ–¹å¼ï¼Œç®€åŒ–ä¸€äº›æ¨¡ç‰ˆä»£ç çš„ç¼–å†™ï¼Œ
                    å¦‚getter/setteræ–¹æ³•ã€equals/hashcodeæ–¹æ³•ã€toStringæ–¹æ³•ç­‰-->
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <version>1.18.8</version>
            <scope>provided</scope>
        </dependency>

        <!-- JUnit: javaçš„ä¸€ç§æµ‹è¯•æ¡†æ¶ -->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.12</version>
            <scope>test</scope>
        </dependency>

        <!-- jackson core: åŸºç¡€æ ¸å¿ƒåŒ…-->
        <dependency>
            <groupId>com.fasterxml.jackson.core</groupId>
            <artifactId>jackson-core</artifactId>
            <version>2.8.9</version>
        </dependency>

        <!--jackson databind: æ•°æ®ç»‘å®šåŒ…ï¼Œæä¾›Javaå¯¹è±¡ä¸JSONæ•°æ®æ ¼å¼è¿›è¡Œåºåˆ—åŒ–
                   åŠååºåˆ—åŒ–çš„æ”¯æŒ -->
        <dependency>
            <groupId>com.fasterxml.jackson.core</groupId>
            <artifactId>jackson-databind</artifactId>
            <version>2.8.9</version>
        </dependency>

        <!-- jackson annotations: ä¸ºJacksonæ•°æ®ç»‘å®šåŒ…æä¾›çš„æ³¨è§£æ”¯æŒ -->
        <dependency>
            <groupId>com.fasterxml.jackson.core</groupId>
            <artifactId>jackson-annotations</artifactId>
            <version>2.9.0</version>
        </dependency>

    </dependencies>

    <build>
        <!-- æ‰“åŒ…åçš„åŒ…åï¼ˆå’Œæˆ‘ä»¬éƒ¨ç½²çš„é¡¹ç›®åä¸€è‡´ï¼‰ -->
        <finalName>bs</finalName>
        <plugins>
            <plugin>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>1.8</source>
                    <target>1.8</target>
                    <encoding>UTF-8</encoding>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>
```

### å‡†å¤‡å‰ç«¯èµ„æº

## ä»£ç è®¾è®¡

### è®¾è®¡æ•°æ®åº“å®ä½“ç±»

### è®¾è®¡httpè¯·æ±‚åŸºç±»

ä¸»è¦é’ˆå¯¹å‰ç«¯è¡¨æ ¼ä¸­ï¼Œå¯ä»¥è¾“å…¥æ–‡æœ¬æœç´¢ï¼Œå¹¶æ ¹æ®é¡µç æ˜¾ç¤ºåˆ—è¡¨æ•°æ®

```java
import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
public class BaseEntity {

    private Integer pageNumber;

    private Integer pageSize;

    private String searchText;

    private String sortOrder;
}

```

### è®¾è®¡ç»Ÿä¸€å“åº”ç±»

```java
import com.github.pagehelper.Page;
import lombok.Getter;
import lombok.Setter;
import lombok.ToString;

import java.io.PrintWriter;
import java.io.StringWriter;

@Getter
@Setter
@ToString
public class ResponseResult {

    private boolean success;

    private String code;

    private String message;

    private Long total;

    private Object data;

    private String stackTrace;
}
```

### è®¾è®¡å·¥å…·ç±»

## å¯æ‰©å±•éƒ¨åˆ†

### åŠŸèƒ½ä¸Šå…¶ä»–é¢æ¿ä¸­çš„åŠŸèƒ½éƒ½å¯ä»¥å®ç°

### sessionåŠæƒé™æ ¡éªŒå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿‡æ»¤å™¨å®ç°